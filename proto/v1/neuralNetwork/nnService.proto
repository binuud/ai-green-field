/// Please use the following editor setup for this file:

// Tab size=4; Tabs as spaces; Clean up trailing whitepsace
// 'make proto' will run clang-format to fix formatiing
syntax = "proto3";
package neuralNetwork;

option go_package = "github.com/binuud/ai-green-field/gen/go/v1/neuralNetwork";

import "google/api/annotations.proto";
import "v1/neuralNetwork/neuralNetwork.proto";
import "google/protobuf/timestamp.proto";

// NeuralNetwork
service NeuralNetwork {

  rpc Ping(PingNeuralNetworkRequest) returns (PingNeuralNetworkResponse) {
    option (google.api.http) = {
      get : "/v1/neuralNetwork/ping"
    };
  }

  // for adding a new brainFlow to the backend
  rpc Create(CreateNeuralNetworkRequest) returns (CreateNeuralNetworkResponse) {
    option (google.api.http) = {
      post : "/v1/neuralNetwork/create"
      body : "*"
    };
  }
  // for training a NeuralNetwork
  rpc Train(TrainNeuralNetworkRequest) returns (TrainNeuralNetworkResponse) {
    option (google.api.http) = {
      get : "/v1/neuralNetwork/train"
    };
  }

  // for training a neural network interactively for debud purpose
  rpc InteractiveTrain(stream InteractiveTrainNeuralNetworkRequest)
      returns (stream InteractiveTrainNeuralNetworkResponse) {
    option (google.api.http) = {
      post : "/v1/neuralNetwork/interactiveTrain"
      body : "*"
    };
  }

  // for testing an exiting NeuralNetwork
  rpc Test(TestNeuralNetworkRequest) returns (TestNeuralNetworkResponse) {
    option (google.api.http) = {
      post : "/v1/neuralNetwork/update"
      body : "*"
    };
  }
  // for Loading a NeuralNetwork
  rpc Load(LoadNeuralNetworkRequest) returns (LoadNeuralNetworkResponse) {
    option (google.api.http) = {
      post : "/v1/neuralNetwork/load"
      body : "*"
    };
  }

  // for Saving a NeuralNetwork
  rpc Save(SaveNeuralNetworkRequest) returns (SaveNeuralNetworkResponse) {
    option (google.api.http) = {
      post : "/v1/neuralNetwork/save"
      body : "*"
    };
  }
  // for listing NeuralNetwork
  rpc List(ListNeuralNetworkRequest) returns (ListNeuralNetworkResponse) {
    option (google.api.http) = {
      get : "/v1/neuralNetwork/list"
    };
  }

  // for testing streaming NeuralNetwork
  rpc TestStream(stream TestStreamNeuralNetworkRequest)
      returns (stream TestStreamNeuralNetworkResponse) {
    option (google.api.http) = {
      post : "/v1/neuralNetwork/testStream"
      body : "*"
    };
  }
}

message PingNeuralNetworkRequest {}

message PingNeuralNetworkResponse {

  // ping response creation time
  google.protobuf.Timestamp createdAt = 1;

  // small description about the service
  string description = 2;

  // json data with details on the service
  string data = 3;
}

message CreateNeuralNetworkRequest { Model model = 1; }
message CreateNeuralNetworkResponse { Model model = 1; }

message TrainNeuralNetworkRequest { Model model = 1; }
message TrainNeuralNetworkResponse { Model model = 1; }

message TestNeuralNetworkRequest { Model model = 1; }
message TestNeuralNetworkResponse { Model model = 1; }

message LoadNeuralNetworkRequest { Model model = 1; }
message LoadNeuralNetworkResponse { Model model = 1; }

message SaveNeuralNetworkRequest { Model model = 1; }
message SaveNeuralNetworkResponse { Model model = 1; }

message ListNeuralNetworkRequest { Model model = 1; }
message ListNeuralNetworkResponse { Model model = 1; }

message InteractiveTrainNeuralNetworkRequest {
  Model model = 1;
  TrainingAction action = 2;
}

message InteractiveTrainNeuralNetworkResponse { Model model = 1; }

message TestStreamNeuralNetworkRequest {
  Model model = 1;
  TrainingAction action = 2;
}

message TestStreamNeuralNetworkResponse { Model model = 1; }